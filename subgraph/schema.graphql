type Ipnft @entity {
    id: ID! #tokenId
    owner: Bytes! # address
    createdAt: BigInt!
    tokenURI: String!
    listings: [Listing!] @derivedFrom(field: "ipnft")
}

type Listing @entity {
    id: ID!
    ipnft: Ipnft!
    creator: Bytes! #address
    paymentToken: Bytes! #address ERC20 Token
    askPrice: BigInt!
    createdAt: BigInt!
    unlistedAt: BigInt
    purchasedAt: BigInt
    buyer: Bytes #address
    allowlist: [Bytes!]! #addresses that are allowed to buy
}

type Reservation @entity {
    id: ID! #reservationId will be future tokenId
    owner: Bytes! #address
    uri: String
    createdAt: BigInt!
}

enum MintpassStatus {
    DEFAULT
    REDEEMED
    REVOKED
}

type Mintpass @entity {
    id: ID! #tokenId
    owner: Bytes! #address
    createdAt: BigInt!
    status: MintpassStatus
}
